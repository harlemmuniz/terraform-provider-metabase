---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "metabase_permissions_group_membership Resource - terraform-provider-metabase"
subcategory: ""
description: |-
  A Metabase permissions group membership links a user to a permissions group.
---

# metabase_permissions_group_membership (Resource)

A Metabase permissions group membership links a user to a permissions group.

## Example Usage

```terraform
# Create a permissions group
resource "metabase_permissions_group" "marketing" {
  name = "Marketing"
}

# Create a user
resource "metabase_user" "alice" {
  email      = "alice@example.com"
  first_name = "Alice"
  last_name  = "Johnson"
}

# Add the user to the group as a regular member
resource "metabase_permissions_group_membership" "alice_marketing" {
  user_id          = metabase_user.alice.id
  group_id         = metabase_permissions_group.marketing.id
  is_group_manager = false
}

# Add another user as a group manager
resource "metabase_user" "bob" {
  email      = "bob@example.com"
  first_name = "Bob"
  last_name  = "Smith"
}

resource "metabase_permissions_group_membership" "bob_marketing" {
  user_id          = metabase_user.bob.id
  group_id         = metabase_permissions_group.marketing.id
  is_group_manager = true
}

# Using for_each to add multiple users to a group
variable "team_members" {
  type = map(object({
    email      = string
    first_name = string
    last_name  = string
    is_manager = bool
  }))
  default = {
    alice = {
      email      = "alice@example.com"
      first_name = "Alice"
      last_name  = "Johnson"
      is_manager = false
    }
    bob = {
      email      = "bob@example.com"
      first_name = "Bob"
      last_name  = "Smith"
      is_manager = true
    }
  }
}

resource "metabase_permissions_group" "sales" {
  name = "Sales"
}

resource "metabase_user" "team" {
  for_each   = var.team_members
  email      = each.value.email
  first_name = each.value.first_name
  last_name  = each.value.last_name
}

resource "metabase_permissions_group_membership" "team_sales" {
  for_each         = var.team_members
  user_id          = metabase_user.team[each.key].id
  group_id         = metabase_permissions_group.sales.id
  is_group_manager = each.value.is_manager
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `user_id` (Number) The ID of the user.
- `group_id` (Number) The ID of the permissions group.

### Optional

- `is_group_manager` (Boolean) Whether the user is a manager of this group.

### Read-Only

- `id` (Number) The ID of the membership (same as group_id).

## Important Notes

- Metabase automatically assigns all users to group 1 (All Users) and admin users to group 2 (Administrators). These default groups should NOT be managed with this resource.
- Changing `user_id` or `group_id` will force replacement of the resource.
- Group managers have additional permissions within the group, such as managing other members.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Import format: "user_id:group_id"
terraform import metabase_permissions_group_membership.example 10:5
```
